{{ define "sidebar" }}
<link rel="stylesheet" href="/internal/static/css/sidebar.css">
<aside class="sidebar">
    <button class="close-sidebar" id="close-sidebar">
        <i class="fas fa-times"></i>
    </button>
    <div class="sidebar-header">
        <h3><img src="/logo.png" alt="Logo" style="height: 30px; vertical-align: middle; padding-right: 6px; position: relative; top: 1px;"> Auth-API</h3>
    </div>
    
    <ul class="sidebar-menu">
        <li class="sidebar-item">
            <a href="/admin" class="sidebar-link {{ if eq .active "dashboard" }}active{{ end }}">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
        </li>
        <li class="sidebar-item">
            <a href="/admin/users" class="sidebar-link {{ if eq .active "users" }}active{{ end }}">
                <i class="fas fa-users"></i>
                <span>User Management</span>
            </a>
        </li>
        <li class="sidebar-item">
            <a href="/admin/sessions" class="sidebar-link {{ if eq .active "sessions" }}active{{ end }}">
                <i class="fas fa-key"></i>
                <span>Active Sessions</span>
            </a>
        </li>
        <li class="sidebar-item">
            <a href="/admin/settings" class="sidebar-link {{ if eq .active "settings" }}active{{ end }}">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </li>
        <li class="sidebar-item">
            <a href="/admin/logs" class="sidebar-link {{ if eq .active "logs" }}active{{ end }}">
                <i class="fas fa-clipboard-list"></i>
                <span>System Logs</span>
            </a>
        </li>
        <li class="sidebar-item">
            <a href="/admin/analytics" class="sidebar-link {{ if eq .active "analytics" }}active{{ end }}">
                <i class="fas fa-chart-line"></i>
                <span>Analytics</span>
            </a>
        </li>
    </ul>
    
    <div class="sidebar-footer">
        <button id="logout-btn" class="logout-button">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
        </button>
    </div>

    <script>
        document.getElementById('logout-btn').addEventListener('click', async () => {
            try {
                const response = await fetch('/api/admin/logout', {
                    method: 'POST',
                    credentials: 'include'
                });
                
                if (response.ok) {
                    window.location.href = '/admin/login';
                } else {
                    console.error('Logout failed');
                }
            } catch (error) {
                console.error('Logout error:', error);
            }
        });
    </script>
</aside>
{{ end }}
